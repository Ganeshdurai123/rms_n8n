---
phase: 01-foundation-authentication
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - client/package.json
  - client/tsconfig.json
  - client/tsconfig.app.json
  - client/tsconfig.node.json
  - client/vite.config.ts
  - client/tailwind.config.ts
  - client/postcss.config.js
  - client/index.html
  - client/src/main.tsx
  - client/src/App.tsx
  - client/src/index.css
  - client/src/vite-env.d.ts
  - client/components.json
  - client/src/lib/utils.ts
autonomous: true
gap_closure: true
requirements:
  - INFRA-01

must_haves:
  truths:
    - "The client/ directory exists at the project root with a valid package.json and vite config"
    - "Docker Compose can build the client service using the ./client build context and docker/client/Dockerfile"
    - "The Vite dev server starts on port 3000 and responds to HTTP requests"
    - "Tailwind CSS is configured with shadcn/ui new-york theme conventions"
    - "TypeScript compiles without errors in the client directory"
  artifacts:
    - path: "client/package.json"
      provides: "@rms/client package with React 18, Vite, Tailwind, and shadcn/ui dependencies"
      contains: "@rms/client"
    - path: "client/vite.config.ts"
      provides: "Vite configuration with React SWC plugin and host 0.0.0.0 for Docker"
      contains: "plugin-react-swc"
    - path: "client/tailwind.config.ts"
      provides: "Tailwind CSS v3 config with shadcn/ui content paths and theme extensions"
      contains: "tailwindcss"
    - path: "client/index.html"
      provides: "HTML entry point referencing /src/main.tsx"
      contains: "main.tsx"
    - path: "client/src/main.tsx"
      provides: "React 18 createRoot entry point"
      contains: "createRoot"
    - path: "client/src/App.tsx"
      provides: "Root App component with minimal placeholder"
      contains: "function App"
    - path: "client/src/index.css"
      provides: "Tailwind directives and shadcn/ui CSS variables for new-york theme"
      contains: "@tailwind"
    - path: "client/src/lib/utils.ts"
      provides: "shadcn/ui cn() utility (clsx + tailwind-merge)"
      exports: ["cn"]
    - path: "client/components.json"
      provides: "shadcn/ui configuration for new-york style"
      contains: "new-york"
  key_links:
    - from: "docker-compose.yml"
      to: "client/package.json"
      via: "build context ./client resolved by Docker Compose client service"
      pattern: "context.*client"
    - from: "docker/client/Dockerfile"
      to: "client/package.json"
      via: "COPY package*.json in Dockerfile"
      pattern: "COPY package"
    - from: "client/index.html"
      to: "client/src/main.tsx"
      via: "Vite entry point script tag"
      pattern: "src/main.tsx"
    - from: "client/vite.config.ts"
      to: "@vitejs/plugin-react-swc"
      via: "Vite plugin registration"
      pattern: "react.*swc"
---

<objective>
Create the minimal client/ directory scaffolding (React 18 + TypeScript + Vite + Tailwind CSS + shadcn/ui new-york theme) so Docker Compose can build and start the client service successfully.

Purpose: The VERIFICATION.md gap identified that the client/ directory does not exist, which blocks Success Criterion 1 (Docker Compose starts all 7 services from cold). The docker-compose.yml and docker/client/Dockerfile already exist and expect a client/ build context. This plan creates the minimal scaffolding to unblock the full stack.

Output: A buildable client/ directory with React 18, TypeScript, Vite dev server on port 3000, Tailwind CSS v3.4, and shadcn/ui new-york theme foundations ready for UI work in later phases.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/research/STACK.md
@.planning/phases/01-foundation-authentication/01-VERIFICATION.md
@.planning/phases/01-foundation-authentication/01-01-SUMMARY.md
@docker-compose.yml
@docker/client/Dockerfile
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create client/ directory with React 18 + TypeScript + Vite + Tailwind CSS + shadcn/ui scaffolding</name>
  <files>
    client/package.json
    client/tsconfig.json
    client/tsconfig.app.json
    client/tsconfig.node.json
    client/vite.config.ts
    client/tailwind.config.ts
    client/postcss.config.js
    client/index.html
    client/src/main.tsx
    client/src/App.tsx
    client/src/index.css
    client/src/vite-env.d.ts
    client/components.json
    client/src/lib/utils.ts
  </files>
  <action>
Create the client/ directory at the project root with a complete React 18 + TypeScript + Vite scaffolding. This must be buildable by the existing docker/client/Dockerfile which runs `npm ci` then `npm run dev -- --host 0.0.0.0`.

**client/package.json:**

Name: `@rms/client`. Scripts:
- `"dev": "vite"` (Dockerfile appends `-- --host 0.0.0.0`)
- `"build": "tsc -b && vite build"`
- `"preview": "vite preview"`
- `"lint": "eslint ."`

Dependencies (per STACK.md locked versions):
- `react`: `~18.3.1`
- `react-dom`: `~18.3.1`
- `clsx`: `~2.1.1` (shadcn/ui peer dep)
- `tailwind-merge`: `~2.6.0` (shadcn/ui peer dep)
- `class-variance-authority`: `~0.7.1` (shadcn/ui peer dep)
- `lucide-react`: `~0.468.0` (shadcn/ui icon library)

DevDependencies:
- `typescript`: `~5.6.3`
- `vite`: `~6.0.0`
- `@vitejs/plugin-react-swc`: `~3.7.0`
- `tailwindcss`: `~3.4.17`
- `postcss`: `~8.4.49`
- `autoprefixer`: `~10.4.20`
- `@types/react`: `~18.3.0`
- `@types/react-dom`: `~18.3.0`
- `tailwindcss-animate`: `~1.0.7` (shadcn/ui animation plugin)

Do NOT install the full complementary library set (react-query, react-hook-form, zustand, axios, etc.) yet -- those will be added when Phase 2+ UI work begins. Only install what is needed for the scaffold to build and for shadcn/ui components to be added later.

**client/vite.config.ts:**

```typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react-swc';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
  server: {
    port: 3000,
    host: true,
  },
});
```

The `host: true` ensures Vite binds to 0.0.0.0 inside Docker. The `@` alias is required by shadcn/ui component imports.

**client/tsconfig.json:**

Standard Vite project references config:
```json
{
  "files": [],
  "references": [
    { "path": "./tsconfig.app.json" },
    { "path": "./tsconfig.node.json" }
  ]
}
```

**client/tsconfig.app.json:**

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "isolatedModules": true,
    "moduleDetection": "force",
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["src"]
}
```

The `paths` alias for `@/*` is required by shadcn/ui.

**client/tsconfig.node.json:**

```json
{
  "compilerOptions": {
    "target": "ES2022",
    "lib": ["ES2023"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "isolatedModules": true,
    "moduleDetection": "force",
    "noEmit": true,
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true
  },
  "include": ["vite.config.ts"]
}
```

**client/tailwind.config.ts:**

Tailwind CSS v3.4 config with shadcn/ui new-york theme setup:
```typescript
import type { Config } from 'tailwindcss';
import tailwindcssAnimate from 'tailwindcss-animate';

const config: Config = {
  darkMode: ['class'],
  content: [
    './index.html',
    './src/**/*.{ts,tsx}',
  ],
  theme: {
    container: {
      center: true,
      padding: '2rem',
      screens: {
        '2xl': '1400px',
      },
    },
    extend: {
      colors: {
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        primary: {
          DEFAULT: 'hsl(var(--primary))',
          foreground: 'hsl(var(--primary-foreground))',
        },
        secondary: {
          DEFAULT: 'hsl(var(--secondary))',
          foreground: 'hsl(var(--secondary-foreground))',
        },
        destructive: {
          DEFAULT: 'hsl(var(--destructive))',
          foreground: 'hsl(var(--destructive-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
        },
        popover: {
          DEFAULT: 'hsl(var(--popover))',
          foreground: 'hsl(var(--popover-foreground))',
        },
        card: {
          DEFAULT: 'hsl(var(--card))',
          foreground: 'hsl(var(--card-foreground))',
        },
      },
      borderRadius: {
        lg: 'var(--radius)',
        md: 'calc(var(--radius) - 2px)',
        sm: 'calc(var(--radius) - 4px)',
      },
      keyframes: {
        'accordion-down': {
          from: { height: '0' },
          to: { height: 'var(--radix-accordion-content-height)' },
        },
        'accordion-up': {
          from: { height: 'var(--radix-accordion-content-height)' },
          to: { height: '0' },
        },
      },
      animation: {
        'accordion-down': 'accordion-down 0.2s ease-out',
        'accordion-up': 'accordion-up 0.2s ease-out',
      },
    },
  },
  plugins: [tailwindcssAnimate],
};

export default config;
```

**client/postcss.config.js:**

```javascript
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};
```

**client/index.html:**

```html
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RMS - Request Management System</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
```

**client/src/main.tsx:**

```typescript
import { StrictMode } from 'react';
import { createRoot } from 'react-dom/client';
import './index.css';
import App from './App';

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <App />
  </StrictMode>,
);
```

**client/src/App.tsx:**

A minimal placeholder component confirming the client is running:

```typescript
function App() {
  return (
    <div className="flex min-h-screen items-center justify-center bg-background text-foreground">
      <div className="text-center">
        <h1 className="text-4xl font-bold tracking-tight">RMS</h1>
        <p className="mt-2 text-muted-foreground">Request Management System</p>
      </div>
    </div>
  );
}

export default App;
```

This uses Tailwind utility classes and shadcn/ui CSS variable-based colors to confirm the full CSS pipeline works.

**client/src/index.css:**

Tailwind directives plus shadcn/ui CSS variables for the new-york theme (light mode with dark mode support):

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;
    --primary: 240 5.9% 10%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 4.8% 95.9%;
    --secondary-foreground: 240 5.9% 10%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: 240 5.9% 10%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 240 5.9% 10%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 240 4.9% 83.9%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}
```

**client/src/vite-env.d.ts:**

```typescript
/// <reference types="vite/client" />
```

**client/components.json:**

shadcn/ui configuration file. This tells the shadcn CLI how to add components later:

```json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": false,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "src/index.css",
    "baseColor": "zinc",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  }
}
```

`rsc: false` because this is NOT a Next.js project (no React Server Components).

**client/src/lib/utils.ts:**

The `cn()` utility that shadcn/ui components depend on:

```typescript
import { type ClassValue, clsx } from 'clsx';
import { twMerge } from 'tailwind-merge';

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
```

**After creating all files, install dependencies:**

```bash
cd client && npm install
```

This produces the node_modules/ and package-lock.json. The Dockerfile COPY step will pick up package.json and package-lock.json for `npm ci`.

**Verify the build context works with the existing Dockerfile:**

The existing docker/client/Dockerfile does:
1. `FROM node:20-alpine`
2. `WORKDIR /app`
3. `COPY package*.json ./`
4. `RUN npm ci`
5. `COPY .`
6. `EXPOSE 3000`
7. `CMD ["npm", "run", "dev", "--", "--host", "0.0.0.0"]`

This will work because:
- `package.json` exists with `"dev": "vite"` script
- `npm ci` installs from package-lock.json
- `npm run dev -- --host 0.0.0.0` starts Vite on 0.0.0.0:3000
- `vite.config.ts` sets `server.port: 3000` and `server.host: true`
  </action>
  <verify>
1. Run `cd client && npx tsc -b` to verify TypeScript compiles without errors.
2. Run `cd client && npx vite build` to verify the Vite production build succeeds (outputs to client/dist/).
3. Verify that `docker compose config` no longer shows errors for the client service build context.
4. Verify all required files exist: package.json, vite.config.ts, tailwind.config.ts, index.html, src/main.tsx, src/App.tsx, src/index.css, components.json, src/lib/utils.ts.
5. Verify package.json has `"dev": "vite"` script (used by Dockerfile CMD).
  </verify>
  <done>
The client/ directory exists at the project root with a complete React 18 + TypeScript + Vite + Tailwind CSS v3.4 + shadcn/ui new-york theme scaffolding. Docker Compose can build the client service using the ./client build context. The Vite dev server starts on port 3000 bound to 0.0.0.0. shadcn/ui components.json is configured for new-york style so `npx shadcn@latest add [component]` works in later phases. The cn() utility is in place at src/lib/utils.ts. TypeScript compiles clean and Vite build succeeds.
  </done>
</task>

</tasks>

<verification>
1. `ls client/package.json` confirms the directory and file exist.
2. `cd client && npx tsc -b` compiles TypeScript without errors.
3. `cd client && npx vite build` produces a successful production build in client/dist/.
4. `docker compose config` validates the full compose file including client service build context.
5. `client/components.json` contains `"style": "new-york"` and `"rsc": false`.
6. `client/src/lib/utils.ts` exports the `cn()` function.
7. `client/src/index.css` contains `@tailwind base`, `@tailwind components`, `@tailwind utilities` and shadcn/ui CSS variables.
</verification>

<success_criteria>
- The client/ directory exists at the project root with all required scaffolding files
- Docker Compose can build the client service without errors (build context ./client resolves)
- The Vite dev server starts on port 3000 and serves the React app
- Tailwind CSS processes utility classes correctly (App.tsx uses Tailwind classes)
- shadcn/ui new-york theme CSS variables are defined in index.css
- shadcn/ui components.json is configured so future `npx shadcn@latest add` commands work
- TypeScript compiles without errors
- INFRA-01 gap (missing client directory) is closed
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-authentication/01-04-SUMMARY.md`
</output>
